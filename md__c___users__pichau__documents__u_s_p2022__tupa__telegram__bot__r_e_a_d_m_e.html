<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TAL: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Logo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">TAL<span id="projectnumber">&#160;v1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 align="center" style="color:white; background-color:black">Tupão</h1>
<h2 align="center" style="color:white; background-color:black">Tupã Telegram-Spreadsheet Bot</h2>
<h4 align="center">A bot to interface google apps via telegram</h4>
<p  align="center"></p>
<p ><a href="https://tupa.eesc.usp.br//"><img src="https://img.shields.io/badge/Tupão-black?style=for-the-badge" alt="tupao" class="inline"/> </a> <a href="https://eesc.usp.br/"><img src="https://img.shields.io/badge/Linked%20to-EESC--USP-black?style=for-the-badge" alt="eesc-usp" class="inline"/> </a> </p>
<p  align="center"></p>
<p ><a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/issues"><img src="https://img.shields.io/github/issues/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="issues" class="inline"/> </a> <a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/commits/main"><img src="https://img.shields.io/github/commit-activity/m/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="commits" class="inline"/> </a> <a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/graphs/contributors"><img src="https://img.shields.io/github/contributors/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="contirbutors" class="inline"/> </a> <br  />
 <a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/commits/main"><img src="https://img.shields.io/github/last-commit/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="commits" class="inline"/> </a> <a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/issues"><img src="https://img.shields.io/github/issues-raw/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="issues" class="inline"/> </a> <a href="https://github.com/EESC-USP-TUPA/Telegram-Bot/pulls"><img src="https://img.shields.io/github/issues-pr-raw/EESC-USP-TUPA/Telegram-Bot?style=for-the-badge" alt="pull" class="inline"/> </a> </p>
<p ><code>Tupão</code> é um <code>Telegram bot</code> criado com o objetivo de fornecer assistência aos membros da extracurricular em um cenário presencial, onde se faz necessário realizar atualizações em planilhas e serviços do <code>Google</code>, mesmo sem possuir acesso direto a um computador.</p>
<p >O objetivo principal do <code>Tupão</code> é fornecer assistência durante o período de manufatura da equipe <code>EESC USP Tupã</code>. Para tal, o bot possui as seguintes funcionalidades básicas:</p>
<ul>
<li><code>help</code>: Comando de ajuda, que fornece informação acerca de todos os comandos cadastrados</li>
<li><code>add</code>: Permite que sejam cadastradas novas tarefas na planilha de mapeamento da equipe</li>
<li><code>start/end</code>: Permite que seja atualizado o status de atividades cadastradas na planilha de mapemanto da equipe</li>
<li><code>list</code>: Lista todas as atividades cadastradas na planilha de mapeamentos da equipe</li>
<li><code>Extras</code>: Comandos de resposta simples registrados em uma planilha de comandos no <code>Google Sheets</code> <img src="screenshots/spreadsheet-commands.png" alt="img.png" class="inline"/></li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Configuração</h2>
<p >A configuração do <code>bot</code> é realizada através de um arquivo de variáveis de ambiente <code>.env</code>.</p>
<p >A formatação deste arquivo deve ser como apresentado abaixo:</p>
<div class="fragment"><div class="line">TELEGRAM_BOT_TOKEN =</div>
<div class="line">COMMANDS_SHEET_ID =</div>
<div class="line">ELE_SHEET_ID =</div>
<div class="line">MEC_SHEET_ID =</div>
<div class="line">...</div>
</div><!-- fragment --><ul>
<li><code>TELEGRAM_BOT_TOKEN</code> é o referente ao <code>token</code> para o bot, obtido através do <code>BotFather</code>.</li>
<li><code>COMMANDS_SHEET_ID</code> é o ID da planilha de comandos do bot</li>
<li><code>ELE_SHEET_ID</code> é o ID da planilha de mapeamento de tarefas do sistema da elétrica, e assim por diante para os demais sistemas.</li>
</ul>
<p >Além disso, para que o bot possua permissão para manipular os arquivos do <code>Google</code>, é necessário criar um usuáio no <code>DriveAPI</code> e baixar as configuraçãoes de <code>client_secret</code>, fornecidas em formato json.</p>
<p >As informações devem seguir o seguinte formato:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;type&quot;: </div>
<div class="line">  &quot;project_id&quot;: </div>
<div class="line">  &quot;private_key_id&quot;: </div>
<div class="line">  &quot;private_key&quot;:</div>
<div class="line">  &quot;client_email&quot;: </div>
<div class="line">  &quot;client_id&quot;: </div>
<div class="line">  &quot;auth_uri&quot;: </div>
<div class="line">  &quot;token_uri&quot;: </div>
<div class="line">  &quot;auth_provider_x509_cert_url&quot;: </div>
<div class="line">  &quot;client_x509_cert_url&quot;: </div>
<div class="line">}</div>
</div><!-- fragment --><p >Para membros da equipe, a configuração utilizada atualmente pode ser encontrada <a href="https://drive.google.com/drive/folders/1xBYfFu1UMstL7kg57yETpns6aYJsKRio?ths=true">neste link</a>.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Dependências</h2>
<p >O <code>bot</code> foi construído utilizando <code>Python 3.9.7</code> e conta com as dependências listadas no arquivo <code>dependencies.txt</code>. Para instalá-las, basta executar o comando <code>$ pip install requirements.txt</code>.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Execução</h2>
<p >Após configuradas as variáveis de ambiente, o bot pode ser executado através do arquivo <code>main</code>. Basta utilizar o comando <code>$ python3 <a class="el" href="main_8py.html">main.py</a></code>.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Hosting</h2>
<p >O bot é hospedado nos serviços do <code>Heroku</code> de modo a ficar online 24h. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
